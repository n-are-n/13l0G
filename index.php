<!-- Home Page -->
<?php include_once('Assets/Php/read.php') ?>
<!DOCTYPE html>
<html lang="en">
<?php include_once('Inc/head.php') ?>

<body>
    <?php include_once('Inc/header.php') ?>
    <main>
        <section class="container">
            <?php 
                $count = 0;
                if( $sql != false ) { // If true is returned this part will be executed
                    foreach ($sql as $Blog) { ?>
                        <div class="row">
                            <span>
                                <!-- Post views -->
                                <?php echo $Blog['_Views'] ?>
                                <svg id="Icons" height="20" viewBox="0 0 74 74" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m37 53a47.326 47.326 0 0 1 -34.729-15.315 1 1 0 0 1 0-1.37 47.034 47.034 0 0 1 69.458 0 1 1 0 0 1 0 1.37 47.326 47.326 0 0 1 -34.729 15.315zm-32.616-16a44.993 44.993 0 0 0 65.232 0 44.993 44.993 0 0 0 -65.232 0z"/><path d="m37 53a16 16 0 1 1 16-16 16.019 16.019 0 0 1 -16 16zm0-30a14 14 0 1 0 14 14 14.015 14.015 0 0 0 -14-14z"/><path d="m37 45a8 8 0 1 1 8-8 8.009 8.009 0 0 1 -8 8zm0-14a6 6 0 1 0 6 6 6.006 6.006 0 0 0 -6-6z"/></svg>
                            </span>
                            <!-- Post created time -->
                            <span class="right"><?php echo $Blog['Date_Time'] ?></span>
                            <span>Written By : <?php echo $Blog['Name'] ?></span>
                                <div>
                                    <h4>Title : <?php echo $Blog['Title'] ?></h4>
                                    <h6>Category : <?php echo $Blog['Category'] ?></h6>
                                    <h5 class="desc">Description : <?php echo $Blog['Post'] ?></h5>
                                </div>
                            <?php if (isset($_SESSION['ID'])) { ?>
                                <div>
                                    <a href="<?php echo BASE_URL ?>dislike.php?user=<?php echo $_SESSION['ID'] ?>&post=<?php echo $Blog['ID'] ?>&dislike=0"><!-- Pass User_ID & Post_ID to dislike.php -->
                                        <svg height="20" viewBox="0 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m437.019531 74.980469c-48.351562-48.351563-112.640625-74.980469-181.019531-74.980469-52.027344 0-102.125 15.535156-144.867188 44.921875-4.550781 3.132813-5.703124 9.355469-2.574218 13.90625 3.128906 4.554687 9.355468 5.707031 13.90625 2.574219 39.394531-27.085938 85.570312-41.402344 133.535156-41.402344 130.128906 0 236 105.871094 236 236s-105.871094 236-236 236-236-105.871094-236-236c0-47.972656 14.316406-94.144531 41.398438-133.53125 3.128906-4.550781 1.976562-10.773438-2.574219-13.902344-4.546875-3.128906-10.773438-1.980468-13.90625 2.570313-29.386719 42.734375-44.917969 92.828125-44.917969 144.863281 0 68.378906 26.628906 132.667969 74.980469 181.019531 48.351562 48.351563 112.640625 74.980469 181.019531 74.980469s132.667969-26.628906 181.019531-74.980469c48.351563-48.351562 74.980469-112.640625 74.980469-181.019531s-26.628906-132.667969-74.980469-181.019531zm0 0" />
                                            <path d="m82.046875 92.050781c2.5625 0 5.125-.976562 7.078125-2.929687 3.902344-3.902344 3.902344-10.234375 0-14.140625-3.90625-3.90625-10.238281-3.90625-14.144531 0l-.003907.003906c-3.90625 3.90625-3.902343 10.234375 0 14.140625 1.953126 1.953125 4.511719 2.925781 7.070313 2.925781zm0 0" />
                                            <path d="m175.660156 325.289062c-1.429687-5.335937-6.914062-8.5-12.246094-7.070312-5.335937 1.429688-8.503906 6.910156-7.074218 12.246094 12.066406 45.023437 53.046875 76.46875 99.660156 76.46875s87.59375-31.441406 99.660156-76.46875c1.429688-5.335938-1.738281-10.816406-7.074218-12.246094-5.335938-1.429688-10.816407 1.734375-12.246094 7.070312-9.726563 36.296876-42.761719 61.644532-80.339844 61.644532s-70.613281-25.347656-80.339844-61.644532zm0 0" />
                                            <path d="m310.53125 252.066406c3.085938-11.507812 13.558594-19.546875 25.472656-19.546875 11.910156 0 22.382813 8.039063 25.46875 19.546875 1.195313 4.464844 5.234375 7.414063 9.652344 7.414063.855469 0 1.726562-.113281 2.59375-.34375 5.335938-1.429688 8.5-6.914063 7.070312-12.246094-5.421874-20.238281-23.835937-34.371094-44.785156-34.371094-20.949218 0-39.367187 14.132813-44.789062 34.371094-1.429688 5.332031 1.734375 10.816406 7.070312 12.246094 5.339844 1.429687 10.820313-1.738281 12.246094-7.070313zm0 0" />
                                            <path d="m175.996094 212.519531c-20.949219 0-39.363282 14.132813-44.785156 34.371094-1.429688 5.332031 1.734374 10.816406 7.070312 12.246094 5.339844 1.429687 10.820312-1.738281 12.246094-7.070313 3.085937-11.507812 13.558594-19.546875 25.46875-19.546875 11.914062 0 22.386718 8.039063 25.472656 19.546875 1.195312 4.464844 5.234375 7.414063 9.652344 7.414063.855468 0 1.726562-.113281 2.59375-.34375 5.335937-1.429688 8.5-6.914063 7.070312-12.246094-5.421875-20.238281-23.839844-34.371094-44.789062-34.371094zm0 0" />
                                        </svg>(<?php Like($Blog['ID']) ?>)
                                    </a>
                                    <a href="<?php echo BASE_URL ?>dislike.php?user=<?php echo $_SESSION['ID'] ?>&post=<?php echo $Blog['ID'] ?>&dislike=1">
                                        <svg height="20" viewBox="0 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m437.019531 74.980469c-48.351562-48.351563-112.640625-74.980469-181.019531-74.980469-52.03125 0-102.125 15.535156-144.867188 44.921875-4.550781 3.132813-5.703124 9.355469-2.574218 13.90625 3.128906 4.554687 9.355468 5.703125 13.90625 2.578125 39.394531-27.089844 85.570312-41.40625 133.535156-41.40625 130.128906 0 236 105.871094 236 236s-105.871094 236-236 236-236-105.871094-236-236c0-47.972656 14.316406-94.144531 41.398438-133.527344 3.128906-4.550781 1.976562-10.777344-2.574219-13.90625-4.546875-3.128906-10.773438-1.976562-13.90625 2.570313-29.386719 42.734375-44.917969 92.828125-44.917969 144.863281 0 68.378906 26.628906 132.667969 74.980469 181.019531 48.351562 48.351563 112.640625 74.980469 181.019531 74.980469s132.667969-26.628906 181.019531-74.980469c48.351563-48.351562 74.980469-112.640625 74.980469-181.019531s-26.628906-132.667969-74.980469-181.019531zm0 0" />
                                            <path d="m158.925781 369.863281c-3.902343 3.90625-3.902343 10.238281 0 14.144531 3.90625 3.902344 10.238281 3.902344 14.144531 0 22.152344-22.152343 51.605469-34.351562 82.929688-34.351562 31.328125 0 60.78125 12.199219 82.933594 34.351562 1.953125 1.953126 4.511718 2.925782 7.070312 2.925782s5.117188-.972656 7.070313-2.925782c3.90625-3.90625 3.90625-10.238281 0-14.144531-25.929688-25.929687-60.402344-40.207031-97.074219-40.207031-36.667969 0-71.144531 14.277344-97.074219 40.207031zm0 0" />
                                            <path d="m175.996094 276c11.027344 0 20-8.972656 20-20s-8.972656-20-20-20-20 8.972656-20 20 8.972656 20 20 20zm0 0" />
                                            <path d="m316.003906 256c0 11.027344 8.972656 20 20 20s20-8.972656 20-20-8.972656-20-20-20-20 8.972656-20 20zm0 0" />
                                            <path d="m206.125 177.082031c-9.144531 5.28125-19.5625 8.074219-30.128906 8.074219-10.5625 0-20.980469-2.792969-30.125-8.074219-4.785156-2.761719-10.902344-1.121093-13.660156 3.660157-2.761719 4.785156-1.125 10.898437 3.660156 13.660156 12.183594 7.035156 26.058594 10.753906 40.125 10.753906 14.070312 0 27.945312-3.71875 40.128906-10.753906 4.785156-2.761719 6.421875-8.875 3.660156-13.660156-2.761718-4.78125-8.875-6.421876-13.660156-3.660157zm0 0" />
                                            <path d="m379.792969 180.742188c-2.761719-4.78125-8.878907-6.421876-13.660157-3.660157-9.148437 5.28125-19.566406 8.074219-30.128906 8.074219-10.566406 0-20.980468-2.792969-30.128906-8.074219-4.78125-2.761719-10.898438-1.121093-13.660156 3.660157-2.761719 4.785156-1.121094 10.898437 3.660156 13.660156 12.183594 7.035156 26.058594 10.753906 40.128906 10.753906 14.066406 0 27.945313-3.71875 40.128906-10.753906 4.78125-2.761719 6.421876-8.875 3.660157-13.660156zm0 0" />
                                            <path d="m82.050781 92.050781c2.414063 0 4.839844-.867187 6.757813-2.628906 4.070312-3.730469 4.347656-10.054687.613281-14.128906-3.726563-4.066407-10.054687-4.34375-14.125-.613281l-.007813.007812c-4.070312 3.730469-4.34375 10.054688-.609374 14.125 1.96875 2.148438 4.664062 3.238281 7.371093 3.238281zm0 0" />
                                        </svg>(<?php Dislike($Blog['ID']) ?>)
                                    </a>
                                    <a class="comments" onclick="comment(<?php echo $count ?>)">
                                        <svg id="Capa_1" enable-background="new 0 0 511.072 511.072" height="20" viewBox="0 0 511.072 511.072" width="20" xmlns="http://www.w3.org/2000/svg">
                                            <g id="Speech_Bubble_48_">
                                                <g>
                                                    <path d="m74.39 480.536h-36.213l25.607-25.607c13.807-13.807 22.429-31.765 24.747-51.246-36.029-23.644-62.375-54.751-76.478-90.425-14.093-35.647-15.864-74.888-5.121-113.482 12.89-46.309 43.123-88.518 85.128-118.853 45.646-32.963 102.47-50.387 164.33-50.387 77.927 0 143.611 22.389 189.948 64.745 41.744 38.159 64.734 89.63 64.734 144.933 0 26.868-5.471 53.011-16.26 77.703-11.165 25.551-27.514 48.302-48.593 67.619-46.399 42.523-112.042 65-189.83 65-28.877 0-59.01-3.855-85.913-10.929-25.465 26.123-59.972 40.929-96.086 40.929zm182-420c-124.039 0-200.15 73.973-220.557 147.285-19.284 69.28 9.143 134.743 76.043 175.115l7.475 4.511-.23 8.727c-.456 17.274-4.574 33.912-11.945 48.952 17.949-6.073 34.236-17.083 46.99-32.151l6.342-7.493 9.405 2.813c26.393 7.894 57.104 12.241 86.477 12.241 154.372 0 224.682-93.473 224.682-180.322 0-46.776-19.524-90.384-54.976-122.79-40.713-37.216-99.397-56.888-169.706-56.888z" />
                                                </g>
                                            </g>
                                        </svg>(<?php Comment_Count($Blog['ID']) ?>)
                                    </a>
                                </div>
                                <!-- Display Comments from server -->
                                <div class="comment hidden">
                                    <?php Comment($Blog['ID']) ?>
                                </div>
                                <form action="<?php echo BASE_URL ?>comment.php" method="GET" class="hidden" id="form">
                                    <fieldset>
                                        <legend>Comment</legend>
                                        <input type="text" name="User_ID" value="<?php echo $_SESSION['ID'] ?>" hidden>
                                        <input type="text" name="Post_ID" value="<?php echo $Blog['ID'] ?>" hidden>
                                        <textarea name="Comment" placeholder="write your comments here..." cols="30" rows="10" required></textarea><br>
                                        <input type="submit" class="submit" value="Submit">
                                    </fieldset>
                                </form>
                            <?php } ?>
                            <a href="<?php echo BASE_URL ?>count.php?id=<?php echo $Blog['ID'] ?>&view=<?php echo $Blog['_Views'] ?>" class="button right">Read More >>></a>
                        </div>
                        <?php
                        $count++;
                    }
                } else { ?> <!-- If False is returned from server else part will be executed -->
                    <h1 style="text-align: center;">No Post Found!</h1>
                <?php } ?>
        </section>
    </main>
    <?php include_once('Inc/aside.php') ?>
    <?php include_once('Inc/foot.php') ?>
    <script src="Assets/Js/script.js"></script>
</body>

</html>
